import{K as x,S as ae,i as ce,s as he,L as S,e as H,k as I,t as Y,c as M,a as E,d as _,m as N,h as Z,b,M as He,g as U,J as m,N as Me,O,P as qe,Q as Je,j as fe,R as Oe,l as ye,E as re,T as we,U as J,f as D,V as Se,W as Ke,X as Qe,w as de,x as ge,y as ve,q as me,o as be,B as pe,Y as ue,Z as q,r as We,v as Xe}from"../chunks/index-1c30a1fa.js";import{w as _e}from"../chunks/index-41d8bd37.js";let $={};const k=(t,e=null)=>{document.execCommand(t,!1,e)},Ie=(t,e)=>{if(e=e||(t&&t.tagName?[t.tagName]:[]),t&&t.parentNode)t=t.parentNode;else return e;const l=t.tagName;return t.style&&t.getAttribute&&[t.style.textAlign||t.getAttribute("align"),t.style.color||l==="FONT"&&"forecolor",t.style.backgroundColor&&"backcolor"].filter(n=>n).forEach(n=>e.push(n)),l==="DIV"?e:(e.push(l),Ie(t,e).filter(n=>n!=null))},oe=t=>{const e=document.getSelection();if($.range=null,e.rangeCount){let l=$.range=e.getRangeAt(0),n=document.createRange(),s;n.selectNodeContents(t),n.setEnd(l.startContainer,l.startOffset),s=(n+"").length,$.metaRange={start:s,end:s+(l+"").length}}},te=t=>{let e=$.metaRange,l=$.range,n=document.getSelection(),s;if(!!l){if(e&&e.start!==e.end){let i=0,d=[t],f,o=!1,h=!1;for(s=document.createRange();!h&&(f=d.pop());)if(f.nodeType===3){let u=i+f.length;!o&&e.start>=i&&e.start<=u&&(s.setStart(f,e.start-i),o=!0),o&&e.end>=i&&e.end<=u&&(s.setEnd(f,e.end-i),h=!0),i=u}else{let u=f.childNodes,r=u.length;for(;r>0;)r-=1,d.push(u[r])}}n.removeAllRanges(),n.addRange(s||l)}},Ye=t=>{const e=t.match(/<!--StartFragment-->(.*?)<!--EndFragment-->/);let l=e&&e[1]||t;return l=l.replace(/\r?\n|\r/g," ").replace(/<!--(.*?)-->/g,"").replace(new RegExp("<(/)*(meta|link|span|\\?xml:|st1:|o:|font|w:sdt)(.*?)>","gi"),"").replace(/<!\[if !supportLists\]>(.*?)<!\[endif\]>/gi,"").replace(/style="[^"]*"/gi,"").replace(/style='[^']*'/gi,"").replace(/&nbsp;/gi," ").replace(/>(\s+)</g,"><").replace(/class="[^"]*"/gi,"").replace(/class='[^']*'/gi,"").replace(/<[^/].*?>/g,n=>n.split(/[ >]/g)[0]+">").trim(),l=ke(l),l},Ze=t=>{const e=document.createDocumentFragment();for(;t.firstChild;){const l=t.removeChild(t.firstChild);e.appendChild(l)}t.parentNode.replaceChild(e,t)},Ne=(t,e)=>{Array.from(t).forEach(l=>{e.some(n=>n===l.tagName.toLowerCase())&&(l.children.length&&Ne(l.children,e),Ze(l))})},ee=t=>Object.keys(t).map(e=>t[e]),Ge=(t,e=[])=>{if(e&&e.length){const l={};return e.forEach(n=>{typeof n=="string"?l[n]=Object.assign({},t[n]):t[n.name]?l[n.name]=Object.assign(t[n.name],n):l[n.name]=Object.assign({},n)}),l}else return t},ke=t=>(["style","script","applet","embed","noframes","noscript"].forEach(e=>{t=t.replace(new RegExp(`<${e}.*?${e}(.*?)>`,"gi"),"")}),t),Ae=(t,e)=>t===e?!0:t.parentElement?Ae(t.parentElement,e):!1,Ee='<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M31.1 48.9l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9L15 50.4c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L11 41.8c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7c2.5-2.6 3.1-6.7 1.5-10l-5.9 5.9zM38.7 22.5l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2L42 38c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1c0 .1 0 .1 0 0z"></path><path d="M44.2 30.5c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.3-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.9 40.6c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM49.9 55.4h-8.5v-5h8.5v-8.9h5.2v8.9h8.5v5h-8.5v8.9h-5.2v-8.9z"></path></svg>',$e='<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M30.9 49.1l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9l-5.2-5.2c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L10.8 42c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7C38 50.5 38.6 46.3 37 43l-6.1 6.1zM38.5 22.7l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2-6.5 6.5c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1z"></path><path d="M44.1 30.7c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.2-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.8 40.8c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM41.3 55.8v-5h22.2v5H41.3z"></path></svg>';var et={viewHtml:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path fill="none" stroke="currentColor" stroke-width="8" stroke-miterlimit="10" d="M26.9 17.9L9 36.2 26.9 54M45 54l17.9-18.3L45 17.9"></path></svg>',title:"View HTML",result:function(){let t=x(this.references),e=x(this.state).actionObj,l=x(this.helper);l.showEditor=!l.showEditor,t.editor.style.display=l.showEditor?"block":"none",t.raw.style.display=l.showEditor?"none":"block",l.showEditor?t.editor.innerHTML=t.raw.value:t.raw.value=t.editor.innerHTML,setTimeout(()=>{Object.keys(e).forEach(n=>e[n].disabled=!l.showEditor),e.viewHtml.disabled=!1,e.viewHtml.active=!l.showEditor,this.state.update(n=>(n.actionBtns=ee(e),n.actionObj=e,n))})}},undo:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M61.2 51.2c0-5.1-2.1-9.7-5.4-13.1-3.3-3.3-8-5.4-13.1-5.4H26.1v-12L10.8 36l15.3 15.3V39.1h16.7c3.3 0 6.4 1.3 8.5 3.5 2.2 2.2 3.5 5.2 3.5 8.5h6.4z"></path></svg>',title:"Undo",result:()=>k("undo")},redo:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M10.8 51.2c0-5.1 2.1-9.7 5.4-13.1 3.3-3.3 8-5.4 13.1-5.4H46v-12L61.3 36 45.9 51.3V39.1H29.3c-3.3 0-6.4 1.3-8.5 3.5-2.2 2.2-3.5 5.2-3.5 8.5h-6.5z"></path></svg>',title:"Redo",result:()=>k("redo")},b:{icon:"<b>B</b>",title:"Bold",result:()=>k("bold")},i:{icon:"<i>I</i>",title:"Italic",result:()=>k("italic")},u:{icon:"<u>U</u>",title:"Underline",result:()=>k("underline")},strike:{icon:"<strike>S</strike>",title:"Strike-through",result:()=>k("strikeThrough")},sup:{icon:"A<sup>2</sup>",title:"Superscript",result:()=>k("superscript")},sub:{icon:"A<sub>2</sub>",title:"Subscript",result:()=>k("subscript")},h1:{icon:"<b>H<sub>1</sub></b>",title:"Heading 1",result:()=>k("formatBlock","<H1>")},h2:{icon:"<b>H<sub>2</sub></b>",title:"Heading 2",result:()=>k("formatBlock","<H2>")},p:{icon:"&#182;",title:"Paragraph",result:()=>k("formatBlock","<P>")},blockquote:{icon:"&#8220; &#8221;",title:"Quote",result:()=>k("formatBlock","<BLOCKQUOTE>")},ol:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M27 14h36v8H27zM27 50h36v8H27zM27 32h36v8H27zM11.8 15.8V22h1.8v-7.8h-1.5l-2.1 1 .3 1.3zM12.1 38.5l.7-.6c1.1-1 2.1-2.1 2.1-3.4 0-1.4-1-2.4-2.7-2.4-1.1 0-2 .4-2.6.8l.5 1.3c.4-.3 1-.6 1.7-.6.9 0 1.3.5 1.3 1.1 0 .9-.9 1.8-2.6 3.3l-1 .9V40H15v-1.5h-2.9zM13.3 53.9c1-.4 1.4-1 1.4-1.8 0-1.1-.9-1.9-2.6-1.9-1 0-1.9.3-2.4.6l.4 1.3c.3-.2 1-.5 1.6-.5.8 0 1.2.3 1.2.8 0 .7-.8.9-1.4.9h-.7v1.3h.7c.8 0 1.6.3 1.6 1.1 0 .6-.5 1-1.4 1-.7 0-1.5-.3-1.8-.5l-.4 1.4c.5.3 1.3.6 2.3.6 2 0 3.2-1 3.2-2.4 0-1.1-.8-1.8-1.7-1.9z"></path></svg>',title:"Ordered List",result:()=>k("insertOrderedList")},ul:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M27 14h36v8H27zM27 50h36v8H27zM9 50h9v8H9zM9 32h9v8H9zM9 14h9v8H9zM27 32h36v8H27z"></path></svg>',title:"Unordered List",result:()=>k("insertUnorderedList")},hr:{icon:"&#8213;",title:"Horizontal Line",result:()=>k("insertHorizontalRule")},left:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M9 14h54v8H9zM9 50h54v8H9zM9 32h36v8H9z"></path></svg>',title:"Justify left",result:()=>k("justifyLeft")},right:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M9 14h54v8H9zM9 50h54v8H9zM27 32h36v8H27z"></path></svg>',title:"Justify right",result:()=>k("justifyRight")},center:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M9 14h54v8H9zM9 50h54v8H9zM18 32h36v8H18z"></path></svg>',title:"Justify center",result:()=>k("justifyCenter")},justify:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M9 14h54v8H9zM9 50h54v8H9zM9 32h54v8H9z"></path></svg>',title:"Justify full",result:()=>k("justifyFull")},a:{icon:Ee,title:"Insert link",result:function(){const t=x(this.state).actionObj,e=x(this.references);if(t.a.active){const l=window.getSelection(),n=document.createRange();n.selectNodeContents(document.getSelection().focusNode),l.removeAllRanges(),l.addRange(n),k("unlink"),t.a.title="Insert link",t.a.icon=Ee,this.state.update(s=>(s.actionBtn=ee(t),s.actionObj=t,s))}else oe(e.editor),e.modal.$set({show:!0,event:"linkUrl",title:"Insert link",label:"Url"}),x(this.helper).link||(this.helper.update(l=>(l.link=!0,l)),e.modal.$on("linkUrl",l=>{te(e.editor),k("createLink",l.detail),t.a.title="Unlink",t.a.icon=$e,this.state.update(n=>(n.actionBtn=ee(t),n.actionObj=t,n))}))}},image:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M64 17v38H8V17h56m8-8H0v54h72V9z"></path><path d="M17.5 22C15 22 13 24 13 26.5s2 4.5 4.5 4.5 4.5-2 4.5-4.5-2-4.5-4.5-4.5zM16 50h27L29.5 32zM36 36.2l8.9-8.5L60.2 50H45.9S35.6 35.9 36 36.2z"></path></svg>',title:"Image",result:function(){const t=x(this.references);oe(t.editor),t.modal.$set({show:!0,event:"imageUrl",title:"Insert image",label:"Url"}),x(this.helper).image||(this.helper.update(e=>(e.image=!0,e)),t.modal.$on("imageUrl",e=>{te(t.editor),k("insertImage",e.detail)}))}},forecolor:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M32 15h7.8L56 57.1h-7.9l-4-11.1H27.4l-4 11.1h-7.6L32 15zm-2.5 25.4h12.9L36 22.3h-.2l-6.3 18.1z"></path></svg>',title:"Text color",colorPicker:!0,result:function(){ze.call(this,"foreColor")}},backcolor:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M36.5 22.3l-6.3 18.1H43l-6.3-18.1z"></path><path d="M9 8.9v54.2h54.1V8.9H9zm39.9 48.2L45 46H28.2l-3.9 11.1h-7.6L32.8 15h7.8l16.2 42.1h-7.9z"></path></svg>',title:"Background color",colorPicker:!0,result:function(){ze.call(this,"backColor")}},removeFormat:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M58.2 54.6L52 48.5l3.6-3.6 6.1 6.1 6.4-6.4 3.8 3.8-6.4 6.4 6.1 6.1-3.6 3.6-6.1-6.1-6.4 6.4-3.7-3.8 6.4-6.4zM21.7 52.1H50V57H21.7zM18.8 15.2h34.1v6.4H39.5v24.2h-7.4V21.5H18.8v-6.3z"></path></svg>',title:"Remove format",result:function(){const t=x(this.references),e=window.getSelection();if(!e.toString().length){Ne(t.editor.children,this.removeFormatTags);const l=document.createRange();l.selectNodeContents(t.editor),e.removeAllRanges(),e.addRange(l)}k("removeFormat"),e.removeAllRanges()}}};const ze=function(t){const e=x(this.references);oe(e.editor),e.colorPicker.$set({show:!0,event:t}),x(this.helper)[t]||(this.helper.update(l=>(l[t]=!0,l)),e.colorPicker.$on(t,l=>{let n=l.detail;if(n.modal){e.modal.$set({show:!0,event:`${t}Changed`,title:"Text color",label:t==="foreColor"?"Text color":"Background color"});const s=t;x(this.helper)[`${s}Modal`]||(x(this.helper)[`${s}Modal`]=!0,e.modal.$on(`${s}Changed`,i=>{let d=i.detail;te(e.editor),k(s,d)}))}else te(e.editor),k(t,n.color)}))};function Ce(t){let e,l,n,s,i,d,f,o,h,u,r,g,y,C,v,T,A,c,p,L,B,z,V,G,j=t[2]&&Te();return{c(){e=H("div"),l=I(),n=H("div"),s=H("div"),i=H("span"),d=Y(t[3]),f=I(),o=H("form"),h=H("label"),u=H("input"),g=I(),y=H("span"),C=H("span"),v=Y(t[4]),T=I(),j&&j.c(),A=I(),c=H("button"),p=Y("Confirm"),L=I(),B=H("button"),z=Y("Cancel"),this.h()},l(w){e=M(w,"DIV",{class:!0}),E(e).forEach(_),l=N(w),n=M(w,"DIV",{class:!0});var R=E(n);s=M(R,"DIV",{class:!0});var P=E(s);i=M(P,"SPAN",{class:!0});var le=E(i);d=Z(le,t[3]),le.forEach(_),f=N(P),o=M(P,"FORM",{});var F=E(o);h=M(F,"LABEL",{class:!0});var K=E(h);u=M(K,"INPUT",{name:!0,class:!0}),g=N(K),y=M(K,"SPAN",{class:!0});var Q=E(y);C=M(Q,"SPAN",{class:!0});var ne=E(C);v=Z(ne,t[4]),ne.forEach(_),T=N(Q),j&&j.l(Q),Q.forEach(_),K.forEach(_),A=N(F),c=M(F,"BUTTON",{class:!0,type:!0});var se=E(c);p=Z(se,"Confirm"),se.forEach(_),L=N(F),B=M(F,"BUTTON",{class:!0,type:!0});var ie=E(B);z=Z(ie,"Cancel"),ie.forEach(_),F.forEach(_),P.forEach(_),R.forEach(_),this.h()},h(){b(e,"class","cl-editor-overlay svelte-42yfje"),b(i,"class","modal-title svelte-42yfje"),b(u,"name","text"),b(u,"class","svelte-42yfje"),b(C,"class","svelte-42yfje"),b(y,"class","input-info svelte-42yfje"),b(h,"class","modal-label svelte-42yfje"),He(h,"input-error",t[2]),b(c,"class","modal-button modal-submit svelte-42yfje"),b(c,"type","submit"),b(B,"class","modal-button modal-reset svelte-42yfje"),b(B,"type","reset"),b(s,"class","modal-box svelte-42yfje"),b(n,"class","cl-editor-modal svelte-42yfje")},m(w,R){U(w,e,R),U(w,l,R),U(w,n,R),m(n,s),m(s,i),m(i,d),m(s,f),m(s,o),m(o,h),m(h,u),t[11](u),Me(u,t[1]),m(h,g),m(h,y),m(y,C),m(C,v),m(y,T),j&&j.m(y,null),m(o,A),m(o,c),m(c,p),m(o,L),m(o,B),m(B,z),V||(G=[O(e,"click",t[8]),O(u,"keyup",t[9]),qe(r=t[6].call(null,u)),O(u,"input",t[12]),O(B,"click",t[8]),O(o,"submit",Je(t[13]))],V=!0)},p(w,R){R&8&&fe(d,w[3]),R&2&&u.value!==w[1]&&Me(u,w[1]),R&16&&fe(v,w[4]),w[2]?j||(j=Te(),j.c(),j.m(y,null)):j&&(j.d(1),j=null),R&4&&He(h,"input-error",w[2])},d(w){w&&_(e),w&&_(l),w&&_(n),t[11](null),j&&j.d(),V=!1,Oe(G)}}}function Te(t){let e,l;return{c(){e=H("span"),l=Y("Required"),this.h()},l(n){e=M(n,"SPAN",{class:!0});var s=E(e);l=Z(s,"Required"),s.forEach(_),this.h()},h(){b(e,"class","msg-error svelte-42yfje")},m(n,s){U(n,e,s),m(e,l)},d(n){n&&_(e)}}}function tt(t){let e,l=t[0]&&Ce(t);return{c(){l&&l.c(),e=ye()},l(n){l&&l.l(n),e=ye()},m(n,s){l&&l.m(n,s),U(n,e,s)},p(n,[s]){n[0]?l?l.p(n,s):(l=Ce(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:re,o:re,d(n){l&&l.d(n),n&&_(e)}}}function lt(t,e,l){let n=new we,{show:s=!1}=e,{text:i=""}=e,{event:d=""}=e,{title:f=""}=e,{label:o=""}=e,{error:h=!1}=e,u={};const r=c=>{c.type=d.includes("Color")?"color":"text"};function g(){i?(n(d,i),y()):(l(2,h=!0),u.text.focus())}function y(){l(0,s=!1),l(1,i=""),l(2,h=!1)}function C(){l(2,h=!1)}function v(c){J[c?"unshift":"push"](()=>{u.text=c,l(5,u)})}function T(){i=this.value,l(1,i)}const A=c=>g();return t.$$set=c=>{"show"in c&&l(0,s=c.show),"text"in c&&l(1,i=c.text),"event"in c&&l(10,d=c.event),"title"in c&&l(3,f=c.title),"label"in c&&l(4,o=c.label),"error"in c&&l(2,h=c.error)},t.$$.update=()=>{t.$$.dirty&33&&s&&setTimeout(()=>{u.text.focus()})},[s,i,h,f,o,u,r,g,y,C,d,v,T,A]}class nt extends ae{constructor(e){super(),ce(this,e,lt,tt,he,{show:0,text:1,event:10,title:3,label:4,error:2})}get show(){return this.$$.ctx[0]}set show(e){this.$$set({show:e}),S()}get text(){return this.$$.ctx[1]}set text(e){this.$$set({text:e}),S()}get event(){return this.$$.ctx[10]}set event(e){this.$$set({event:e}),S()}get title(){return this.$$.ctx[3]}set title(e){this.$$set({title:e}),S()}get label(){return this.$$.ctx[4]}set label(e){this.$$set({label:e}),S()}get error(){return this.$$.ctx[2]}set error(e){this.$$set({error:e}),S()}}function Be(t,e,l){const n=t.slice();return n[8]=e[l],n}function je(t){let e,l=(t[8].text||"")+"",n,s,i;function d(...f){return t[6](t[8],...f)}return{c(){e=H("button"),n=Y(l),this.h()},l(f){e=M(f,"BUTTON",{type:!0,class:!0,style:!0});var o=E(e);n=Z(o,l),o.forEach(_),this.h()},h(){b(e,"type","button"),b(e,"class","color-picker-btn svelte-njq4pk"),D(e,"background-color",t[8].color)},m(f,o){U(f,e,o),m(e,n),s||(i=O(e,"click",d),s=!0)},p(f,o){t=f,o&2&&l!==(l=(t[8].text||"")+"")&&fe(n,l),o&2&&D(e,"background-color",t[8].color)},d(f){f&&_(e),s=!1,i()}}}function st(t){let e,l,n,s,i,d,f=t[1],o=[];for(let h=0;h<f.length;h+=1)o[h]=je(Be(t,f,h));return{c(){e=H("div"),l=H("div"),n=I(),s=H("div");for(let h=0;h<o.length;h+=1)o[h].c();this.h()},l(h){e=M(h,"DIV",{style:!0});var u=E(e);l=M(u,"DIV",{class:!0}),E(l).forEach(_),n=N(u),s=M(u,"DIV",{class:!0});var r=E(s);for(let g=0;g<o.length;g+=1)o[g].l(r);r.forEach(_),u.forEach(_),this.h()},h(){b(l,"class","color-picker-overlay svelte-njq4pk"),b(s,"class","color-picker-wrapper svelte-njq4pk"),D(e,"display",t[0]?"block":"none")},m(h,u){U(h,e,u),m(e,l),m(e,n),m(e,s);for(let r=0;r<o.length;r+=1)o[r].m(s,null);i||(d=O(l,"click",t[2]),i=!0)},p(h,[u]){if(u&10){f=h[1];let r;for(r=0;r<f.length;r+=1){const g=Be(h,f,r);o[r]?o[r].p(g,u):(o[r]=je(g),o[r].c(),o[r].m(s,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=f.length}u&1&&D(e,"display",h[0]?"block":"none")},i:re,o:re,d(h){h&&_(e),Se(o,h),i=!1,d()}}}function it(t,e,l){const n=new we;let{show:s=!1}=e,{btns:i=[]}=e,{event:d=""}=e,{colors:f=[]}=e;function o(){l(0,s=!1)}function h(r){n(d,r),o()}const u=(r,g)=>h(r);return t.$$set=r=>{"show"in r&&l(0,s=r.show),"btns"in r&&l(1,i=r.btns),"event"in r&&l(4,d=r.event),"colors"in r&&l(5,f=r.colors)},t.$$.update=()=>{t.$$.dirty&32&&l(1,i=f.map(r=>({color:r})).concat([{text:"#",modal:!0}]))},[s,i,o,h,d,f,u]}class rt extends ae{constructor(e){super(),ce(this,e,it,st,he,{show:0,btns:1,event:4,colors:5})}}const ot=function(t){let e={actionBtns:[],actionObj:{}};const{subscribe:l,set:n,update:s}=_e(e);return{name:t,set:n,update:s,subscribe:l}},at=ot;function Le(t,e,l){const n=t.slice();return n[38]=e[l],n}function Re(t){let e,l,n=t[38].icon+"",s,i,d,f,o,h;function u(...r){return t[24](t[38],...r)}return{c(){e=H("button"),l=new Ke(!1),s=I(),this.h()},l(r){e=M(r,"BUTTON",{type:!0,class:!0,title:!0});var g=E(e);l=Qe(g,!1),s=N(g),g.forEach(_),this.h()},h(){l.a=s,b(e,"type","button"),b(e,"class",i="cl-button "+(t[38].active?"active":"")+" svelte-11siz1e"),b(e,"title",d=t[38].title),e.disabled=f=t[38].disabled},m(r,g){U(r,e,g),l.m(n,e),m(e,s),o||(h=O(e,"click",u),o=!0)},p(r,g){t=r,g[0]&16&&n!==(n=t[38].icon+"")&&l.p(n),g[0]&16&&i!==(i="cl-button "+(t[38].active?"active":"")+" svelte-11siz1e")&&b(e,"class",i),g[0]&16&&d!==(d=t[38].title)&&b(e,"title",d),g[0]&16&&f!==(f=t[38].disabled)&&(e.disabled=f)},d(r){r&&_(e),o=!1,h()}}}function ct(t){let e,l,n,s,i,d,f,o,h,u,r,g,y,C=t[4].actionBtns,v=[];for(let c=0;c<C.length;c+=1)v[c]=Re(Le(t,C,c));let T={};o=new nt({props:T}),t[31](o);let A={colors:t[2]};return u=new rt({props:A}),t[32](u),{c(){e=H("div"),l=H("div");for(let c=0;c<v.length;c+=1)v[c].c();n=I(),s=H("div"),i=I(),d=H("textarea"),f=I(),de(o.$$.fragment),h=I(),de(u.$$.fragment),this.h()},l(c){e=M(c,"DIV",{class:!0});var p=E(e);l=M(p,"DIV",{class:!0});var L=E(l);for(let B=0;B<v.length;B+=1)v[B].l(L);L.forEach(_),n=N(p),s=M(p,"DIV",{id:!0,class:!0,style:!0,contenteditable:!0}),E(s).forEach(_),i=N(p),d=M(p,"TEXTAREA",{class:!0,style:!0}),E(d).forEach(_),f=N(p),ge(o.$$.fragment,p),h=N(p),ge(u.$$.fragment,p),p.forEach(_),this.h()},h(){b(l,"class","cl-actionbar svelte-11siz1e"),b(s,"id",t[1]),b(s,"class","cl-content svelte-11siz1e"),D(s,"height",t[0]),b(s,"contenteditable","true"),b(d,"class","cl-textarea svelte-11siz1e"),D(d,"max-height",t[0]),D(d,"min-height",t[0]),b(e,"class","cl svelte-11siz1e")},m(c,p){U(c,e,p),m(e,l);for(let L=0;L<v.length;L+=1)v[L].m(l,null);m(e,n),m(e,s),t[25](s),m(e,i),m(e,d),t[30](d),m(e,f),ve(o,e,null),m(e,h),ve(u,e,null),t[33](e),r=!0,g||(y=[O(window,"click",t[23]),O(s,"input",t[26]),O(s,"mouseup",t[27]),O(s,"keyup",t[28]),O(s,"paste",t[29])],g=!0)},p(c,p){if(p[0]&272){C=c[4].actionBtns;let z;for(z=0;z<C.length;z+=1){const V=Le(c,C,z);v[z]?v[z].p(V,p):(v[z]=Re(V),v[z].c(),v[z].m(l,null))}for(;z<v.length;z+=1)v[z].d(1);v.length=C.length}(!r||p[0]&2)&&b(s,"id",c[1]),(!r||p[0]&1)&&D(s,"height",c[0]),(!r||p[0]&1)&&D(d,"max-height",c[0]),(!r||p[0]&1)&&D(d,"min-height",c[0]);const L={};o.$set(L);const B={};p[0]&4&&(B.colors=c[2]),u.$set(B)},i(c){r||(me(o.$$.fragment,c),me(u.$$.fragment,c),r=!0)},o(c){be(o.$$.fragment,c),be(u.$$.fragment,c),r=!1},d(c){c&&_(e),Se(v,c),t[25](null),t[30](null),t[31](null),pe(o),t[32](null),pe(u),t[33](null),g=!1,Oe(y)}}}const xe=[];function ht(t,e,l){let n,s,i,d=new we,{actions:f=[]}=e,{height:o="300px"}=e,{html:h=""}=e,{contentId:u=""}=e,{colors:r=["#ffffff","#000000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646","#ffff00","#f2f2f2","#7f7f7f","#ddd9c3","#c6d9f0","#dbe5f1","#f2dcdb","#ebf1dd","#e5e0ec","#dbeef3","#fdeada","#fff2ca","#d8d8d8","#595959","#c4bd97","#8db3e2","#b8cce4","#e5b9b7","#d7e3bc","#ccc1d9","#b7dde8","#fbd5b5","#ffe694","#bfbfbf","#3f3f3f","#938953","#548dd4","#95b3d7","#d99694","#c3d69b","#b2a2c7","#b7dde8","#fac08f","#f2c314","#a5a5a5","#262626","#494429","#17365d","#366092","#953734","#76923c","#5f497a","#92cddc","#e36c09","#c09100","#7f7f7f","#0c0c0c","#1d1b10","#0f243e","#244061","#632423","#4f6128","#3f3151","#31859b","#974806","#7f6000"]}=e,{removeFormatTags:g=["h1","h2","blockquote"]}=e,y=_e({foreColor:!1,backColor:!1,foreColorModal:!1,backColorModal:!1,image:!1,link:!1,showEditor:!0,blurActive:!1});ue(t,y,a=>l(34,s=a)),xe.push({});let C="editor_"+xe.length,v=at(C);ue(t,v,a=>l(4,i=a));let T=_e({});ue(t,T,a=>l(3,n=a)),q(v,i.actionObj=Ge(et,f),i);let A={exec:V,getHtml:G,getText:j,setHtml:w,saveRange:R,restoreRange:P,helper:y,references:T,state:v,removeFormatTags:g};We(C,A),Xe(()=>{q(v,i.actionBtns=ee(i.actionObj),i),w(h)});function c(a){n.editor.focus(),R(n.editor),P(n.editor),a.result.call(A),p()}function p(a){const W=a?[]:Ie(document.getSelection().focusNode);Object.keys(i.actionObj).forEach(X=>q(v,i.actionObj[X].active=!1,i)),W.forEach(X=>(i.actionObj[X.toLowerCase()]||{}).active=!0),q(v,i.actionBtns=ee(i.actionObj),i),v.set(i)}function L(a){a.preventDefault(),V("insertHTML",a.clipboardData.getData("text/html")?Ye(a.clipboardData.getData("text/html")):a.clipboardData.getData("text"))}function B(a){d("change",a)}function z(a){!Ae(a.target,n.editorWrapper)&&s.blurActive&&d("blur",a),q(y,s.blurActive=!0,s)}function V(a,W){k(a,W)}function G(a){return a?ke(n.editor.innerHTML):n.editor.innerHTML}function j(){return n.editor.innerText}function w(a,W){const X=W?ke(a):a||"";q(T,n.editor.innerHTML=X,n),q(T,n.raw.value=X,n)}function R(){oe(n.editor)}function P(){te(n.editor)}const le=n,F=a=>z(a),K=(a,W)=>c(a);function Q(a){J[a?"unshift":"push"](()=>{n.editor=a,T.set(n)})}const ne=a=>B(a.target.innerHTML),se=()=>p(),ie=()=>p(),Ve=a=>L(a);function De(a){J[a?"unshift":"push"](()=>{n.raw=a,T.set(n)})}function Ue(a){J[a?"unshift":"push"](()=>{n.modal=a,T.set(n)})}function Pe(a){J[a?"unshift":"push"](()=>{n.colorPicker=a,T.set(n)})}function Fe(a){J[a?"unshift":"push"](()=>{n.editorWrapper=a,T.set(n)})}return t.$$set=a=>{"actions"in a&&l(13,f=a.actions),"height"in a&&l(0,o=a.height),"html"in a&&l(14,h=a.html),"contentId"in a&&l(1,u=a.contentId),"colors"in a&&l(2,r=a.colors),"removeFormatTags"in a&&l(15,g=a.removeFormatTags)},[o,u,r,n,i,y,v,T,c,p,L,B,z,f,h,g,V,G,j,w,R,P,le,F,K,Q,ne,se,ie,Ve,De,Ue,Pe,Fe]}class ut extends ae{constructor(e){super(),ce(this,e,ht,ct,he,{actions:13,height:0,html:14,contentId:1,colors:2,removeFormatTags:15,exec:16,getHtml:17,getText:18,setHtml:19,saveRange:20,restoreRange:21,refs:22},null,[-1,-1])}get actions(){return this.$$.ctx[13]}set actions(e){this.$$set({actions:e}),S()}get height(){return this.$$.ctx[0]}set height(e){this.$$set({height:e}),S()}get html(){return this.$$.ctx[14]}set html(e){this.$$set({html:e}),S()}get contentId(){return this.$$.ctx[1]}set contentId(e){this.$$set({contentId:e}),S()}get colors(){return this.$$.ctx[2]}set colors(e){this.$$set({colors:e}),S()}get removeFormatTags(){return this.$$.ctx[15]}set removeFormatTags(e){this.$$set({removeFormatTags:e}),S()}get exec(){return this.$$.ctx[16]}get getHtml(){return this.$$.ctx[17]}get getText(){return this.$$.ctx[18]}get setHtml(){return this.$$.ctx[19]}get saveRange(){return this.$$.ctx[20]}get restoreRange(){return this.$$.ctx[21]}get refs(){return this.$$.ctx[22]}}function ft(t){let e,l,n={html:t[0]};return e=new ut({props:n}),t[2](e),e.$on("change",t[3]),{c(){de(e.$$.fragment)},l(s){ge(e.$$.fragment,s)},m(s,i){ve(e,s,i),l=!0},p(s,[i]){const d={};i&1&&(d.html=s[0]),e.$set(d)},i(s){l||(me(e.$$.fragment,s),l=!0)},o(s){be(e.$$.fragment,s),l=!1},d(s){t[2](null),pe(e,s)}}}function dt(t,e,l){let n="<h3>Hello</h3>",s;function i(f){J[f?"unshift":"push"](()=>{s=f,l(1,s)})}return[n,s,i,f=>l(0,n=f.detail)]}class mt extends ae{constructor(e){super(),ce(this,e,dt,ft,he,{})}}export{mt as default};
