{"version":3,"file":"index.svelte-852168cc.js","sources":["../../../../../src/lib/_helpers/util.js","../../../../../src/lib/_helpers/actions.js","../../../../../src/lib/_helpers/EditorModal.svelte","../../../../../src/lib/_helpers/EditorColorPicker.svelte","../../../../../src/lib/_helpers/store.js","../../../../../src/lib/Editor.svelte","../../../../../src/routes/index.svelte"],"sourcesContent":["let t = {};\r\n\r\nexport const exec = (command, value = null) => {\r\n  document.execCommand(command, false, value)\r\n}\r\n\r\nexport const getTagsRecursive = (element, tags) => {\r\n  tags = tags || (element && element.tagName ? [element.tagName] : []);\r\n\r\n  if (element && element.parentNode) {\r\n    element = element.parentNode;\r\n  } else {\r\n    return tags;\r\n  }\r\n\r\n  const tag = element.tagName;\r\n  if (element.style && element.getAttribute) {\r\n    [element.style.textAlign || element.getAttribute('align'), element.style.color || tag === 'FONT' && 'forecolor', element.style.backgroundColor && 'backcolor']\r\n      .filter((item) => item)\r\n      .forEach((item) => tags.push(item));\r\n  }\r\n\r\n  if (tag === 'DIV') {\r\n    return tags;\r\n  }\r\n\r\n  tags.push(tag);\r\n\r\n  return getTagsRecursive(element, tags).filter((_tag) => _tag != null);\r\n}\r\n\r\nexport const saveRange = (editor) => {\r\n  const documentSelection = document.getSelection();\r\n\r\n  t.range = null;\r\n\r\n  if (documentSelection.rangeCount) {\r\n    let savedRange = t.range = documentSelection.getRangeAt(0);\r\n    let range = document.createRange();\r\n    let rangeStart;\r\n    range.selectNodeContents(editor);\r\n    range.setEnd(savedRange.startContainer, savedRange.startOffset);\r\n    rangeStart = (range + '').length;\r\n    t.metaRange = {\r\n      start: rangeStart,\r\n      end: rangeStart + (savedRange + '').length\r\n    };\r\n  }\r\n}\r\nexport const restoreRange = (editor) => {\r\n  let metaRange = t.metaRange;\r\n  let savedRange = t.range;\r\n  let documentSelection = document.getSelection();\r\n  let range;\r\n\r\n  if (!savedRange) {\r\n    return;\r\n  }\r\n\r\n  if (metaRange && metaRange.start !== metaRange.end) { // Algorithm from http://jsfiddle.net/WeWy7/3/\r\n    let charIndex = 0,\r\n        nodeStack = [editor],\r\n        node,\r\n        foundStart = false,\r\n        stop = false;\r\n\r\n    range = document.createRange();\r\n\r\n    while (!stop && (node = nodeStack.pop())) {\r\n      if (node.nodeType === 3) {\r\n        let nextCharIndex = charIndex + node.length;\r\n        if (!foundStart && metaRange.start >= charIndex && metaRange.start <= nextCharIndex) {\r\n          range.setStart(node, metaRange.start - charIndex);\r\n          foundStart = true;\r\n        }\r\n        if (foundStart && metaRange.end >= charIndex && metaRange.end <= nextCharIndex) {\r\n          range.setEnd(node, metaRange.end - charIndex);\r\n          stop = true;\r\n        }\r\n        charIndex = nextCharIndex;\r\n      } else {\r\n        let cn = node.childNodes;\r\n        let i = cn.length;\r\n\r\n        while (i > 0) {\r\n          i -= 1;\r\n          nodeStack.push(cn[i]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  documentSelection.removeAllRanges();\r\n  documentSelection.addRange(range || savedRange);\r\n}\r\n\r\nexport const cleanHtml = (input) => {\r\n  const html = input.match(/<!--StartFragment-->(.*?)<!--EndFragment-->/);\r\n  let output = html && html[1] || input;\r\n  output = output\r\n    .replace(/\\r?\\n|\\r/g, ' ')\r\n    .replace(/<!--(.*?)-->/g, '')\r\n    .replace(new RegExp('<(/)*(meta|link|span|\\\\?xml:|st1:|o:|font|w:sdt)(.*?)>', 'gi'), '')\r\n    .replace(/<!\\[if !supportLists\\]>(.*?)<!\\[endif\\]>/gi, '')\r\n    .replace(/style=\"[^\"]*\"/gi, '')\r\n    .replace(/style='[^']*'/gi, '')\r\n    .replace(/&nbsp;/gi, ' ')\r\n    .replace(/>(\\s+)</g, '><')\r\n    .replace(/class=\"[^\"]*\"/gi, '')\r\n    .replace(/class='[^']*'/gi, '')\r\n    .replace(/<[^/].*?>/g, i => i.split(/[ >]/g)[0] + '>')\r\n    .trim()\r\n\r\n    output = removeBadTags(output);\r\n    return output;\r\n}\r\n\r\nexport const unwrap = (wrapper) => {\r\n\tconst docFrag = document.createDocumentFragment();\r\n\twhile (wrapper.firstChild) {\r\n\t\tconst child = wrapper.removeChild(wrapper.firstChild);\r\n\t\tdocFrag.appendChild(child);\r\n\t}\r\n\r\n\t// replace wrapper with document fragment\r\n\twrapper.parentNode.replaceChild(docFrag, wrapper);\r\n}\r\n\r\nexport const removeBlockTagsRecursive = (elements, tagsToRemove) => {\r\n  Array.from(elements).forEach((item) => {\r\n    if (tagsToRemove.some((tag) => tag === item.tagName.toLowerCase())) {\r\n      if (item.children.length) {\r\n        removeBlockTagsRecursive(item.children, tagsToRemove);\r\n      }\r\n      unwrap(item);\r\n    }\r\n  });\r\n}\r\n\r\nexport const getActionBtns = (actions) => {\r\n  return Object.keys(actions).map((action) => actions[action]);\r\n}\r\n\r\nexport const getNewActionObj = (actions, userActions = []) => {\r\n    if (userActions && userActions.length) {\r\n      const newActions = {};\r\n      userActions.forEach((action) => {\r\n        if (typeof action === 'string') {\r\n          newActions[action] = Object.assign({}, actions[action]);\r\n        } else if (actions[action.name]) {\r\n          newActions[action.name] = Object.assign(actions[action.name], action);\r\n        } else {\r\n          newActions[action.name] = Object.assign({}, action);\r\n        }\r\n      });\r\n\r\n      return newActions;\r\n    } else {\r\n      return actions;\r\n    }\r\n}\r\n\r\nexport const removeBadTags = (html) => {\r\n  ['style', 'script', 'applet', 'embed', 'noframes', 'noscript'].forEach((badTag) => {\r\n    html = html.replace(new RegExp(`<${badTag}.*?${badTag}(.*?)>`, 'gi'), '')\r\n  });\r\n\r\n  return html;\r\n}\r\n\r\nexport const isEditorClick = (target, editorWrapper) => {\r\n  if (target === editorWrapper) {\r\n    return true;\r\n  }\r\n  if (target.parentElement) {\r\n    return isEditorClick(target.parentElement, editorWrapper);\r\n  }\r\n  return false;\r\n}\r\n","import {\r\n\texec,\r\n\tremoveBlockTagsRecursive,\r\n\tgetActionBtns,\r\n\tsaveRange,\r\n\trestoreRange\r\n} from \"./util\";\r\n\r\nimport { get } from \"svelte/store\";\r\n\r\nconst linkSvg =\r\n\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M31.1 48.9l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9L15 50.4c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L11 41.8c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7c2.5-2.6 3.1-6.7 1.5-10l-5.9 5.9zM38.7 22.5l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2L42 38c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1c0 .1 0 .1 0 0z\"></path><path d=\"M44.2 30.5c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.3-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.9 40.6c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM49.9 55.4h-8.5v-5h8.5v-8.9h5.2v8.9h8.5v5h-8.5v8.9h-5.2v-8.9z\"></path></svg>';\r\nconst unlinkSvg =\r\n\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M30.9 49.1l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9l-5.2-5.2c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L10.8 42c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7C38 50.5 38.6 46.3 37 43l-6.1 6.1zM38.5 22.7l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2-6.5 6.5c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1z\"></path><path d=\"M44.1 30.7c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.2-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.8 40.8c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM41.3 55.8v-5h22.2v5H41.3z\"></path></svg>';\r\n\r\nexport default {\r\n\tviewHtml: {\r\n\t\ticon:\r\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path fill=\"none\" stroke=\"currentColor\" stroke-width=\"8\" stroke-miterlimit=\"10\" d=\"M26.9 17.9L9 36.2 26.9 54M45 54l17.9-18.3L45 17.9\"></path></svg>',\r\n\t\ttitle: \"View HTML\",\r\n\t\tresult: function() {\r\n\t\t\tlet refs = get(this.references);\r\n\t\t\tlet actionObj = get(this.state).actionObj;\r\n\t\t\tlet helper = get(this.helper);\r\n\r\n\t\t\thelper.showEditor = !helper.showEditor;\r\n\t\t\trefs.editor.style.display = helper.showEditor ? \"block\" : \"none\";\r\n\t\t\trefs.raw.style.display = helper.showEditor ? \"none\" : \"block\";\r\n\t\t\tif (helper.showEditor) {\r\n\t\t\t\trefs.editor.innerHTML = refs.raw.value;\r\n\t\t\t} else {\r\n\t\t\t\trefs.raw.value = refs.editor.innerHTML;\r\n\t\t\t}\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tObject.keys(actionObj).forEach(\r\n\t\t\t\t\taction => (actionObj[action].disabled = !helper.showEditor)\r\n\t\t\t\t);\r\n\t\t\t\tactionObj.viewHtml.disabled = false;\r\n\t\t\t\tactionObj.viewHtml.active = !helper.showEditor;\r\n\r\n\t\t\t\tthis.state.update(state => {\r\n\t\t\t\t\tstate.actionBtns = getActionBtns(actionObj);\r\n\t\t\t\t\tstate.actionObj = actionObj;\r\n\t\t\t\t\treturn state;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tundo: {\r\n\t\ticon:\r\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M61.2 51.2c0-5.1-2.1-9.7-5.4-13.1-3.3-3.3-8-5.4-13.1-5.4H26.1v-12L10.8 36l15.3 15.3V39.1h16.7c3.3 0 6.4 1.3 8.5 3.5 2.2 2.2 3.5 5.2 3.5 8.5h6.4z\"></path></svg>',\r\n\t\ttitle: \"Undo\",\r\n\t\tresult: () => exec(\"undo\")\r\n\t},\r\n\tredo: {\r\n\t\ticon:\r\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M10.8 51.2c0-5.1 2.1-9.7 5.4-13.1 3.3-3.3 8-5.4 13.1-5.4H46v-12L61.3 36 45.9 51.3V39.1H29.3c-3.3 0-6.4 1.3-8.5 3.5-2.2 2.2-3.5 5.2-3.5 8.5h-6.5z\"></path></svg>',\r\n\t\ttitle: \"Redo\",\r\n\t\tresult: () => exec(\"redo\")\r\n\t},\r\n\tb: {\r\n\t\ticon: \"<b>B</b>\",\r\n\t\ttitle: \"Bold\",\r\n\t\tresult: () => exec(\"bold\")\r\n\t},\r\n\ti: {\r\n\t\ticon: \"<i>I</i>\",\r\n\t\ttitle: \"Italic\",\r\n\t\tresult: () => exec(\"italic\")\r\n\t},\r\n\tu: {\r\n\t\ticon: \"<u>U</u>\",\r\n\t\ttitle: \"Underline\",\r\n\t\tresult: () => exec(\"underline\")\r\n\t},\r\n\tstrike: {\r\n\t\ticon: \"<strike>S</strike>\",\r\n\t\ttitle: \"Strike-through\",\r\n\t\tresult: () => exec(\"strikeThrough\")\r\n\t},\r\n\tsup: {\r\n\t\ticon: \"A<sup>2</sup>\",\r\n\t\ttitle: \"Superscript\",\r\n\t\tresult: () => exec(\"superscript\")\r\n\t},\r\n\tsub: {\r\n\t\ticon: \"A<sub>2</sub>\",\r\n\t\ttitle: \"Subscript\",\r\n\t\tresult: () => exec(\"subscript\")\r\n\t},\r\n\th1: {\r\n\t\ticon: \"<b>H<sub>1</sub></b>\",\r\n\t\ttitle: \"Heading 1\",\r\n\t\tresult: () => exec(\"formatBlock\", \"<H1>\")\r\n\t},\r\n\th2: {\r\n\t\ticon: \"<b>H<sub>2</sub></b>\",\r\n\t\ttitle: \"Heading 2\",\r\n\t\tresult: () => exec(\"formatBlock\", \"<H2>\")\r\n\t},\r\n\tp: {\r\n\t\ticon: \"&#182;\",\r\n\t\ttitle: \"Paragraph\",\r\n\t\tresult: () => exec(\"formatBlock\", \"<P>\")\r\n\t},\r\n\tblockquote: {\r\n\t\ticon: \"&#8220; &#8221;\",\r\n\t\ttitle: \"Quote\",\r\n\t\tresult: () => exec(\"formatBlock\", \"<BLOCKQUOTE>\")\r\n\t},\r\n\tol: {\r\n\t\ticon:\r\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M27 14h36v8H27zM27 50h36v8H27zM27 32h36v8H27zM11.8 15.8V22h1.8v-7.8h-1.5l-2.1 1 .3 1.3zM12.1 38.5l.7-.6c1.1-1 2.1-2.1 2.1-3.4 0-1.4-1-2.4-2.7-2.4-1.1 0-2 .4-2.6.8l.5 1.3c.4-.3 1-.6 1.7-.6.9 0 1.3.5 1.3 1.1 0 .9-.9 1.8-2.6 3.3l-1 .9V40H15v-1.5h-2.9zM13.3 53.9c1-.4 1.4-1 1.4-1.8 0-1.1-.9-1.9-2.6-1.9-1 0-1.9.3-2.4.6l.4 1.3c.3-.2 1-.5 1.6-.5.8 0 1.2.3 1.2.8 0 .7-.8.9-1.4.9h-.7v1.3h.7c.8 0 1.6.3 1.6 1.1 0 .6-.5 1-1.4 1-.7 0-1.5-.3-1.8-.5l-.4 1.4c.5.3 1.3.6 2.3.6 2 0 3.2-1 3.2-2.4 0-1.1-.8-1.8-1.7-1.9z\"></path></svg>',\r\n\t\ttitle: \"Ordered List\",\r\n\t\tresult: () => exec(\"insertOrderedList\")\r\n\t},\r\n\tul: {\r\n\t\ticon:\r\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M27 14h36v8H27zM27 50h36v8H27zM9 50h9v8H9zM9 32h9v8H9zM9 14h9v8H9zM27 32h36v8H27z\"></path></svg>',\r\n\t\ttitle: \"Unordered List\",\r\n\t\tresult: () => exec(\"insertUnorderedList\")\r\n\t},\r\n\thr: {\r\n\t\ticon: \"&#8213;\",\r\n\t\ttitle: \"Horizontal Line\",\r\n\t\tresult: () => exec(\"insertHorizontalRule\")\r\n\t},\r\n\tleft: {\r\n\t\ticon:\r\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM9 32h36v8H9z\"></path></svg>',\r\n\t\ttitle: \"Justify left\",\r\n\t\tresult: () => exec(\"justifyLeft\")\r\n\t},\r\n\tright: {\r\n\t\ticon:\r\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM27 32h36v8H27z\"></path></svg>',\r\n\t\ttitle: \"Justify right\",\r\n\t\tresult: () => exec(\"justifyRight\")\r\n\t},\r\n\tcenter: {\r\n\t\ticon:\r\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM18 32h36v8H18z\"></path></svg>',\r\n\t\ttitle: \"Justify center\",\r\n\t\tresult: () => exec(\"justifyCenter\")\r\n\t},\r\n\tjustify: {\r\n\t\ticon:\r\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M9 14h54v8H9zM9 50h54v8H9zM9 32h54v8H9z\"></path></svg>',\r\n\t\ttitle: \"Justify full\",\r\n\t\tresult: () => exec(\"justifyFull\")\r\n\t},\r\n\ta: {\r\n\t\ticon: linkSvg,\r\n\t\ttitle: \"Insert link\",\r\n\t\tresult: function() {\r\n\t\t\tconst actionObj = get(this.state).actionObj;\r\n\t\t\tconst refs = get(this.references);\r\n\r\n\t\t\tif (actionObj.a.active) {\r\n\t\t\t\tconst selection = window.getSelection();\r\n\t\t\t\tconst range = document.createRange();\r\n\t\t\t\trange.selectNodeContents(document.getSelection().focusNode);\r\n\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\tselection.addRange(range);\r\n\t\t\t\texec(\"unlink\");\r\n\t\t\t\tactionObj.a.title = \"Insert link\";\r\n\t\t\t\tactionObj.a.icon = linkSvg;\r\n\t\t\t\tthis.state.update(state => {\r\n\t\t\t\t\tstate.actionBtn = getActionBtns(actionObj);\r\n\t\t\t\t\tstate.actionObj = actionObj;\r\n\t\t\t\t\treturn state;\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsaveRange(refs.editor);\r\n\t\t\t\trefs.modal.$set({\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tevent: \"linkUrl\",\r\n\t\t\t\t\ttitle: \"Insert link\",\r\n\t\t\t\t\tlabel: \"Url\"\r\n\t\t\t\t});\r\n\t\t\t\tif (!get(this.helper).link) {\r\n\t\t\t\t\tthis.helper.update(state => {\r\n\t\t\t\t\t\tstate.link = true;\r\n\t\t\t\t\t\treturn state;\r\n\t\t\t\t\t});\r\n\t\t\t\t\trefs.modal.$on(\"linkUrl\", event => {\r\n\t\t\t\t\t\trestoreRange(refs.editor);\r\n\t\t\t\t\t\texec(\"createLink\", event.detail);\r\n\t\t\t\t\t\tactionObj.a.title = \"Unlink\";\r\n\t\t\t\t\t\tactionObj.a.icon = unlinkSvg;\r\n\r\n\t\t\t\t\t\tthis.state.update(state => {\r\n\t\t\t\t\t\t\tstate.actionBtn = getActionBtns(actionObj);\r\n\t\t\t\t\t\t\tstate.actionObj = actionObj;\r\n\t\t\t\t\t\t\treturn state;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\timage: {\r\n\t\ticon:\r\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M64 17v38H8V17h56m8-8H0v54h72V9z\"></path><path d=\"M17.5 22C15 22 13 24 13 26.5s2 4.5 4.5 4.5 4.5-2 4.5-4.5-2-4.5-4.5-4.5zM16 50h27L29.5 32zM36 36.2l8.9-8.5L60.2 50H45.9S35.6 35.9 36 36.2z\"></path></svg>',\r\n\t\ttitle: \"Image\",\r\n\t\tresult: function() {\r\n\t\t\tconst refs = get(this.references);\r\n\t\t\tsaveRange(refs.editor);\r\n\t\t\trefs.modal.$set({\r\n\t\t\t\tshow: true,\r\n\t\t\t\tevent: \"imageUrl\",\r\n\t\t\t\ttitle: \"Insert image\",\r\n\t\t\t\tlabel: \"Url\"\r\n\t\t\t});\r\n\t\t\tif (!get(this.helper).image) {\r\n\t\t\t\tthis.helper.update(state => {\r\n\t\t\t\t\tstate.image = true;\r\n\t\t\t\t\treturn state;\r\n\t\t\t\t});\r\n\t\t\t\trefs.modal.$on(\"imageUrl\", event => {\r\n\t\t\t\t\trestoreRange(refs.editor);\r\n\t\t\t\t\texec(\"insertImage\", event.detail);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tforecolor: {\r\n\t\ticon:\r\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M32 15h7.8L56 57.1h-7.9l-4-11.1H27.4l-4 11.1h-7.6L32 15zm-2.5 25.4h12.9L36 22.3h-.2l-6.3 18.1z\"></path></svg>',\r\n\t\ttitle: \"Text color\",\r\n\t\tcolorPicker: true,\r\n\t\tresult: function() {\r\n\t\t\tshowColorPicker.call(this, \"foreColor\");\r\n\t\t}\r\n\t},\r\n\tbackcolor: {\r\n\t\ticon:\r\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M36.5 22.3l-6.3 18.1H43l-6.3-18.1z\"></path><path d=\"M9 8.9v54.2h54.1V8.9H9zm39.9 48.2L45 46H28.2l-3.9 11.1h-7.6L32.8 15h7.8l16.2 42.1h-7.9z\"></path></svg>',\r\n\t\ttitle: \"Background color\",\r\n\t\tcolorPicker: true,\r\n\t\tresult: function() {\r\n\t\t\tshowColorPicker.call(this, \"backColor\");\r\n\t\t}\r\n\t},\r\n\tremoveFormat: {\r\n\t\ticon:\r\n\t\t\t'<svg viewBox=\"0 0 72 72\" width=\"17px\" height=\"100%\"><path d=\"M58.2 54.6L52 48.5l3.6-3.6 6.1 6.1 6.4-6.4 3.8 3.8-6.4 6.4 6.1 6.1-3.6 3.6-6.1-6.1-6.4 6.4-3.7-3.8 6.4-6.4zM21.7 52.1H50V57H21.7zM18.8 15.2h34.1v6.4H39.5v24.2h-7.4V21.5H18.8v-6.3z\"></path></svg>',\r\n\t\ttitle: \"Remove format\",\r\n\t\tresult: function() {\r\n\t\t\tconst refs = get(this.references);\r\n\t\t\tconst selection = window.getSelection();\r\n\t\t\tif (!selection.toString().length) {\r\n\t\t\t\tremoveBlockTagsRecursive(\r\n\t\t\t\t\trefs.editor.children,\r\n\t\t\t\t\tthis.removeFormatTags\r\n\t\t\t\t);\r\n\t\t\t\tconst range = document.createRange();\r\n\t\t\t\trange.selectNodeContents(refs.editor);\r\n\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\tselection.addRange(range);\r\n\t\t\t}\r\n\t\t\texec(\"removeFormat\");\r\n\t\t\tselection.removeAllRanges();\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst showColorPicker = function(cmd) {\r\n\tconst refs = get(this.references);\r\n\tsaveRange(refs.editor);\r\n\trefs.colorPicker.$set({show: true, event: cmd});\r\n\tif (!get(this.helper)[cmd]) {\r\n\t\tthis.helper.update(state => {\r\n\t\t\tstate[cmd] = true;\r\n\t\t\treturn state;\r\n\t\t});\r\n\t\trefs.colorPicker.$on(cmd, event => {\r\n\t\t\tlet item = event.detail;\r\n\t\t\tif (item.modal) {\r\n\t\t\t\trefs.modal.$set({\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tevent: `${cmd}Changed`,\r\n\t\t\t\t\ttitle: \"Text color\",\r\n\t\t\t\t\tlabel:\r\n\t\t\t\t\t\tcmd === \"foreColor\" ? \"Text color\" : \"Background color\"\r\n\t\t\t\t});\r\n\t\t\t\tconst command = cmd;\r\n\t\t\t\tif (!get(this.helper)[`${command}Modal`]) {\r\n\t\t\t\t\tget(this.helper)[`${command}Modal`] = true;\r\n\t\t\t\t\trefs.modal.$on(`${command}Changed`, event => {\r\n\t\t\t\t\t\tlet color = event.detail;\r\n\t\t\t\t\t\trestoreRange(refs.editor);\r\n\t\t\t\t\t\texec(command, color);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\trestoreRange(refs.editor);\r\n\t\t\t\texec(cmd, item.color);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n};\r\n","<svelte:options accessors={true}></svelte:options>\r\n{#if show}\r\n  <div class=\"cl-editor-overlay\" on:click=\"{cancel}\"></div>\r\n  <div class=\"cl-editor-modal\">\r\n    <div class=\"modal-box\">\r\n      <span class=\"modal-title\">{title}</span>\r\n      <form on:submit|preventDefault=\"{event=>confirm()}\">\r\n        <label class=\"modal-label\" class:input-error={error}>\r\n          <input bind:this={refs.text} on:keyup=\"{hideError}\" use:inputType name=\"text\" bind:value=\"{text}\">\r\n          <span class=\"input-info\">\r\n            <span>{label}</span>\r\n            {#if error}\r\n            <span class=\"msg-error\">Required</span>\r\n            {/if}\r\n          </span>\r\n        </label>\r\n        <button class=\"modal-button modal-submit\" type=\"submit\">Confirm</button>\r\n        <button class=\"modal-button modal-reset\" type=\"reset\" on:click=\"{cancel}\">Cancel</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n{/if}\r\n\r\n<script>\r\n  import { createEventDispatcher } from \"svelte\";\r\n\r\n  let dispatcher = new createEventDispatcher();\r\n\r\n  export let show = false;\r\n  export let text = '';\r\n  export let event = '';\r\n  export let title = '';\r\n  export let label = '';\r\n  export let error = false;\r\n\r\n  let refs = {}\r\n  \r\n  const inputType = (e) => {\r\n    e.type = event.includes('Color') ? 'color' : 'text';\r\n  };\r\n\r\n  $:{\r\n    if (show) {\r\n      setTimeout(() => {\r\n        refs.text.focus();\r\n      });\r\n    }\r\n  }\r\n\r\n  function confirm() {\r\n    if (text) {\r\n      dispatcher(event,text);\r\n      cancel();\r\n    } else {\r\n      error = true;\r\n      refs.text.focus();\r\n    }\r\n  }\r\n\r\n  function cancel() {\r\n    show = false;\r\n    text = '';\r\n    error = false;\r\n  }\r\n\r\n  function hideError() {\r\n    error = false;\r\n  }\r\n</script>\r\n\r\n<style>\r\n.cl-editor-modal {\r\n  position: absolute;\r\n  top: 37px;\r\n  left: 50%;\r\n  -webkit-transform: translateX(-50%);\r\n  transform: translateX(-50%);\r\n  max-width: 520px;\r\n  width: 100%;\r\n  height: 140px;\r\n  backface-visibility: hidden;\r\n  z-index: 11;\r\n}\r\n\r\n.cl-editor-overlay {\r\n  position: absolute;\r\n  background-color: rgba(255,255,255,.5);\r\n  height: 100%;\r\n  width: 100%;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 10;\r\n}\r\n\r\n.modal-box {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 50%;\r\n  -webkit-transform: translateX(-50%);\r\n  transform: translateX(-50%);\r\n  max-width: 500px;\r\n  width: calc(100% - 20px);\r\n  padding-bottom: 36px;\r\n  z-index: 1;\r\n  background-color: #FFF;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  box-shadow: rgba(0,0,0,.2) 0 2px 3px;\r\n  -webkit-backface-visibility: hidden;\r\n  backface-visibility: hidden;\r\n}\r\n\r\n.modal-title {\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  margin: 0 0 20px;\r\n  padding: 2px 0 4px;\r\n  display: block;\r\n  border-bottom: 1px solid #EEE;\r\n  color: #333;\r\n  background: #fbfcfc;\r\n}\r\n\r\n.modal-label {\r\n  display: block;\r\n  position: relative;\r\n  margin: 15px 12px;\r\n  height: 29px;\r\n  line-height: 29px;\r\n  overflow: hidden;\r\n}\r\n\r\n.modal-label input {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  height: 27px;\r\n  line-height: 25px;\r\n  border: 1px solid #DEDEDE;\r\n  background: #fff;\r\n  font-size: 14px;\r\n  max-width: 330px;\r\n  width: 70%;\r\n  padding: 0 7px;\r\n  transition: all 150ms;\r\n}\r\n\r\n.modal-label input:focus {\r\n  outline: none;\r\n}\r\n\r\n.input-error input {\r\n  border: 1px solid #e74c3c;\r\n}\r\n\r\n.input-info {\r\n  display: block;\r\n  text-align: left;\r\n  height: 25px;\r\n  line-height: 25px;\r\n  transition: all 150ms;\r\n}\r\n\r\n.input-info span {\r\n  display: block;\r\n  color: #69878f;\r\n  background-color: #fbfcfc;\r\n  border: 1px solid #DEDEDE;\r\n  padding: 1px 7px;\r\n  width: 150px;\r\n}\r\n\r\n.input-error .input-info {\r\n  margin-top: -29px;\r\n}\r\n\r\n.input-error .msg-error {\r\n  color: #e74c3c;\r\n}\r\n\r\n.modal-button {\r\n  position: absolute;\r\n  bottom: 10px;\r\n  right: 0;\r\n  text-decoration: none;\r\n  color: #FFF;\r\n  display: block;\r\n  width: 100px;\r\n  height: 35px;\r\n  line-height: 33px;\r\n  margin: 0 10px;\r\n  background-color: #333;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-family: \"Lato\",Helvetica,Verdana,sans-serif;\r\n  font-size: 16px;\r\n  transition: all 150ms;\r\n}\r\n\r\n.modal-submit {\r\n  right: 110px;\r\n  background: #2bc06a;\r\n}\r\n\r\n.modal-reset {\r\n  color: #555;\r\n  background: #e6e6e6;\r\n}\r\n</style>\r\n","<div style=\"display: {show ? 'block' : 'none'}\">\r\n  <div class=\"color-picker-overlay\" on:click=\"{close}\"></div>\r\n  <div class=\"color-picker-wrapper\">\r\n    {#each btns as btn}\r\n    <button type=\"button\" class=\"color-picker-btn\" style=\"background-color:{btn.color};\" on:click=\"{event => selectColor(btn)}\">{btn.text || ''}</button>\r\n    {/each}\r\n  </div>\r\n</div>\r\n\r\n<script>\r\n    import { createEventDispatcher } from \"svelte\";\r\n\r\n    const dispatcher = new createEventDispatcher();\r\n\r\n    export let show = false;\r\n    export let btns = [];\r\n    export let event = '';\r\n    export let colors = [];\r\n\r\n    $: btns = colors\r\n            .map((color) => ({ color }))\r\n            .concat([{ text: '#', modal: true }]);\r\n\r\n    function close() {\r\n        show = false;\r\n    }\r\n\r\n    function selectColor(btn) {\r\n        dispatcher(event,btn)\r\n        close();\r\n    }\r\n\r\n</script>\r\n\r\n<style>\r\n    .color-picker-wrapper {\r\n        border: 1px solid #ecf0f1;\r\n        border-top: none;\r\n        background: #FFF;\r\n        box-shadow: rgba(0,0,0,.1) 0 2px 3px;\r\n        width: 290px;\r\n        left: 50%;\r\n        -webkit-transform: translateX(-50%);\r\n        transform: translateX(-50%);\r\n        padding: 0;\r\n        position: absolute;\r\n        top: 37px;\r\n        z-index: 11;\r\n    }\r\n\r\n    .color-picker-overlay {\r\n        position: absolute;\r\n        background-color: rgba(255,255,255,.5);\r\n        height: 100%;\r\n        width: 100%;\r\n        left: 0;\r\n        top: 0;\r\n        z-index: 10;\r\n    }\r\n\r\n    .color-picker-btn {\r\n        display: block;\r\n        position: relative;\r\n        float: left;\r\n        height: 20px;\r\n        width: 20px;\r\n        border: 1px solid #333;\r\n        padding: 0;\r\n        margin: 2px;\r\n        line-height: 35px;\r\n        text-decoration: none;\r\n        background: #FFF;\r\n        color: #333!important;\r\n        cursor: pointer;\r\n        text-align: left;\r\n        font-size: 15px;\r\n        transition: all 150ms;\r\n        line-height: 20px;\r\n        padding: 0px 5px;\r\n    }\r\n\r\n    .color-picker-btn:hover::after {\r\n        content: \" \";\r\n        display: block;\r\n        position: absolute;\r\n        top: -5px;\r\n        left: -5px;\r\n        height: 27px;\r\n        width: 27px;\r\n        background: inherit;\r\n        border: 1px solid #FFF;\r\n        box-shadow: #000 0 0 2px;\r\n        z-index: 10;\r\n    }\r\n</style>\r\n","import {writable} from \"svelte/store\";\r\n\r\nconst state = (function(name) {\r\n  let state = {\r\n    actionBtns: [],\r\n    actionObj: {}\r\n  }\r\n\r\n  const { subscribe, set, update } = writable(state);\r\n\r\n  return {\r\n    name,\r\n    set,\r\n    update,\r\n    subscribe\r\n  }\r\n});\r\n\r\nexport const createStateStore = state;\r\n","<svelte:options accessors={true} />\r\n\r\n<script context=\"module\">\r\n\tconst editors = [];\r\n</script>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetTagsRecursive,\r\n\t\tsaveRange as _saveRange,\r\n\t\trestoreRange as _restoreRange,\r\n\t\texec as _exec,\r\n\t\tcleanHtml,\r\n\t\tgetActionBtns,\r\n\t\tgetNewActionObj,\r\n\t\tremoveBadTags,\r\n\t\tisEditorClick\r\n\t} from './_helpers/util.js';\r\n\r\n\timport defaultActions from './_helpers/actions.js';\r\n\timport EditorModal from './_helpers/EditorModal.svelte';\r\n\timport EditorColorPicker from './_helpers/EditorColorPicker.svelte';\r\n\r\n\timport { onMount, createEventDispatcher, setContext, getContext } from 'svelte';\r\n\timport { createStateStore } from './_helpers/store.js';\r\n\timport { writable } from 'svelte/store';\r\n\r\n\tlet dispatcher = new createEventDispatcher();\r\n\r\n\texport let actions = [];\r\n\texport let height = '300px';\r\n\texport let html = '';\r\n\texport let contentId = '';\r\n\texport let colors = [\r\n\t\t'#ffffff',\r\n\t\t'#000000',\r\n\t\t'#eeece1',\r\n\t\t'#1f497d',\r\n\t\t'#4f81bd',\r\n\t\t'#c0504d',\r\n\t\t'#9bbb59',\r\n\t\t'#8064a2',\r\n\t\t'#4bacc6',\r\n\t\t'#f79646',\r\n\t\t'#ffff00',\r\n\t\t'#f2f2f2',\r\n\t\t'#7f7f7f',\r\n\t\t'#ddd9c3',\r\n\t\t'#c6d9f0',\r\n\t\t'#dbe5f1',\r\n\t\t'#f2dcdb',\r\n\t\t'#ebf1dd',\r\n\t\t'#e5e0ec',\r\n\t\t'#dbeef3',\r\n\t\t'#fdeada',\r\n\t\t'#fff2ca',\r\n\t\t'#d8d8d8',\r\n\t\t'#595959',\r\n\t\t'#c4bd97',\r\n\t\t'#8db3e2',\r\n\t\t'#b8cce4',\r\n\t\t'#e5b9b7',\r\n\t\t'#d7e3bc',\r\n\t\t'#ccc1d9',\r\n\t\t'#b7dde8',\r\n\t\t'#fbd5b5',\r\n\t\t'#ffe694',\r\n\t\t'#bfbfbf',\r\n\t\t'#3f3f3f',\r\n\t\t'#938953',\r\n\t\t'#548dd4',\r\n\t\t'#95b3d7',\r\n\t\t'#d99694',\r\n\t\t'#c3d69b',\r\n\t\t'#b2a2c7',\r\n\t\t'#b7dde8',\r\n\t\t'#fac08f',\r\n\t\t'#f2c314',\r\n\t\t'#a5a5a5',\r\n\t\t'#262626',\r\n\t\t'#494429',\r\n\t\t'#17365d',\r\n\t\t'#366092',\r\n\t\t'#953734',\r\n\t\t'#76923c',\r\n\t\t'#5f497a',\r\n\t\t'#92cddc',\r\n\t\t'#e36c09',\r\n\t\t'#c09100',\r\n\t\t'#7f7f7f',\r\n\t\t'#0c0c0c',\r\n\t\t'#1d1b10',\r\n\t\t'#0f243e',\r\n\t\t'#244061',\r\n\t\t'#632423',\r\n\t\t'#4f6128',\r\n\t\t'#3f3151',\r\n\t\t'#31859b',\r\n\t\t'#974806',\r\n\t\t'#7f6000'\r\n\t];\r\n\texport let removeFormatTags = ['h1', 'h2', 'blockquote'];\r\n\r\n\tlet helper = writable({\r\n\t\tforeColor: false,\r\n\t\tbackColor: false,\r\n\t\tforeColorModal: false,\r\n\t\tbackColorModal: false,\r\n\t\timage: false,\r\n\t\tlink: false,\r\n\t\tshowEditor: true,\r\n\t\tblurActive: false\r\n\t});\r\n\r\n\teditors.push({});\r\n\tlet contextKey = 'editor_' + editors.length;\r\n\r\n\tlet state = createStateStore(contextKey);\r\n\r\n\tlet references = writable({});\r\n\t$state.actionObj = getNewActionObj(defaultActions, actions);\r\n\r\n\tlet context = {\r\n\t\texec,\r\n\t\tgetHtml,\r\n\t\tgetText,\r\n\t\tsetHtml,\r\n\t\tsaveRange,\r\n\t\trestoreRange,\r\n\t\thelper,\r\n\t\treferences,\r\n\t\tstate,\r\n\t\tremoveFormatTags\r\n\t};\r\n\r\n\tsetContext(contextKey, context);\r\n\r\n\tonMount(() => {\r\n\t\t$state.actionBtns = getActionBtns($state.actionObj);\r\n\t\tsetHtml(html);\r\n\t});\r\n\r\n\tfunction _btnClicked(action) {\r\n\t\t$references.editor.focus();\r\n\t\tsaveRange($references.editor);\r\n\t\trestoreRange($references.editor);\r\n\t\taction.result.call(context);\r\n\t\t_handleButtonStatus();\r\n\t}\r\n\r\n\tfunction _handleButtonStatus(clearBtns) {\r\n\t\tconst tags = clearBtns ? [] : getTagsRecursive(document.getSelection().focusNode);\r\n\t\tObject.keys($state.actionObj).forEach((action) => ($state.actionObj[action].active = false));\r\n\t\ttags.forEach((tag) => (($state.actionObj[tag.toLowerCase()] || {}).active = true));\r\n\t\t$state.actionBtns = getActionBtns($state.actionObj);\r\n\t\t$state.actionObj = $state.actionObj;\r\n\t}\r\n\r\n\tfunction _onPaste(event) {\r\n\t\tevent.preventDefault();\r\n\t\texec(\r\n\t\t\t'insertHTML',\r\n\t\t\tevent.clipboardData.getData('text/html')\r\n\t\t\t\t? cleanHtml(event.clipboardData.getData('text/html'))\r\n\t\t\t\t: event.clipboardData.getData('text')\r\n\t\t);\r\n\t}\r\n\r\n\tfunction _onChange(event) {\r\n\t\tdispatcher('change', event);\r\n\t}\r\n\r\n\tfunction _documentClick(event) {\r\n\t\tif (!isEditorClick(event.target, $references.editorWrapper) && $helper.blurActive) {\r\n\t\t\tdispatcher('blur', event);\r\n\t\t}\r\n\t\t$helper.blurActive = true;\r\n\t}\r\n\r\n\texport function exec(cmd, value) {\r\n\t\t_exec(cmd, value);\r\n\t}\r\n\r\n\texport function getHtml(sanitize) {\r\n\t\treturn sanitize ? removeBadTags($references.editor.innerHTML) : $references.editor.innerHTML;\r\n\t}\r\n\texport function getText() {\r\n\t\treturn $references.editor.innerText;\r\n\t}\r\n\texport function setHtml(html, sanitize) {\r\n\t\tconst htmlData = sanitize ? removeBadTags(html) : html || '';\r\n\t\t$references.editor.innerHTML = htmlData;\r\n\t\t$references.raw.value = htmlData;\r\n\t}\r\n\texport function saveRange() {\r\n\t\t_saveRange($references.editor);\r\n\t}\r\n\texport function restoreRange() {\r\n\t\t_restoreRange($references.editor);\r\n\t}\r\n\texport const refs = $references;\r\n</script>\r\n\r\n<svelte:window on:click={(event) => _documentClick(event)} />\r\n\r\n<div class=\"cl\" bind:this={$references.editorWrapper}>\r\n\t<div class=\"cl-actionbar\">\r\n\t\t{#each $state.actionBtns as action}\r\n\t\t\t<button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tclass=\"cl-button {action.active ? 'active' : ''}\"\r\n\t\t\t\ttitle={action.title}\r\n\t\t\t\ton:click={(event) => _btnClicked(action)}\r\n\t\t\t\tdisabled={action.disabled}\r\n\t\t\t>\r\n\t\t\t\t{@html action.icon}\r\n\t\t\t</button>\r\n\t\t{/each}\r\n\t</div>\r\n\t<div\r\n\t\tbind:this={$references.editor}\r\n\t\tid={contentId}\r\n\t\tclass=\"cl-content\"\r\n\t\tstyle=\"height: {height}\"\r\n\t\tcontenteditable=\"true\"\r\n\t\ton:input={(event) => _onChange(event.target.innerHTML)}\r\n\t\ton:mouseup={() => _handleButtonStatus()}\r\n\t\ton:keyup={() => _handleButtonStatus()}\r\n\t\ton:paste={(event) => _onPaste(event)}\r\n\t/>\r\n\r\n\t<textarea\r\n\t\tbind:this={$references.raw}\r\n\t\tclass=\"cl-textarea\"\r\n\t\tstyle=\"max-height: {height}; min-height: {height}\"\r\n\t/>\r\n\t<EditorModal bind:this={$references.modal} />\r\n\t<EditorColorPicker bind:this={$references.colorPicker} {colors} />\r\n</div>\r\n\r\n<style>\r\n\t.cl * {\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.cl {\r\n\t\tbox-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 100%;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.cl-content {\r\n\t\theight: 300px;\r\n\t\toutline: 0;\r\n\t\toverflow-y: auto;\r\n\t\tpadding: 10px;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: white;\r\n\t}\r\n\r\n\t.cl-actionbar {\r\n\t\tbackground-color: #ecf0f1;\r\n\t\tborder-bottom: 1px solid rgba(10, 10, 10, 0.1);\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.cl-button {\r\n\t\tbackground-color: transparent;\r\n\t\tborder: none;\r\n\t\tcursor: pointer;\r\n\t\theight: 35px;\r\n\t\toutline: 0;\r\n\t\twidth: 35px;\r\n\t\tvertical-align: top;\r\n\t\tposition: relative;\r\n\t\tfont-size: 1em;\r\n\t\tfont-family: Arial, Helvetica, sans-serif;\r\n\t}\r\n\r\n\t.cl-button:hover,\r\n\t.cl-button.active {\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.cl-button:disabled {\r\n\t\topacity: 0.5;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\t.cl-textarea {\r\n\t\tdisplay: none;\r\n\t\tmax-width: 100%;\r\n\t\tmin-width: 100%;\r\n\t\tborder: none;\r\n\t\tpadding: 10px;\r\n\t}\r\n\r\n\t.cl-textarea:focus {\r\n\t\toutline: none;\r\n\t}\r\n</style>\r\n","<script>\n\timport Editor from '$lib/Editor.svelte';\n\tlet html = '<h3>Hello</h3>';\n\tlet editor;\n</script>\n\n<Editor {html} on:change={(evt) => (html = evt.detail)} bind:this={editor} />\n\n<style>\n</style>\n"],"names":["get","exec","saveRange","restoreRange","_exec","_saveRange","_restoreRange"],"mappings":"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"}